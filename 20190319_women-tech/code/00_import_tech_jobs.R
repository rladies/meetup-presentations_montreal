
# Package: https://cran.r-project.org/web/packages/datapasta/vignettes/how-to-datapasta.html

pacman::p_load(datapasta, magrittr, dplyr)

# Source: https://www.honeypot.io/women-in-tech-2018/
# Highlight text in browser, click "addins" in RStudio, click "Paste as Tribble". Voila!


tech_jobs = tibble::tribble(
        ~V1,               ~V2,    ~V3,   ~V4,      ~V5,     ~V6,     ~V7,     ~V8,    ~V9,   ~V10,     ~V11,    ~V12,    ~V13,    ~V14,     ~V15,      ~V16,     ~V17,   ~V18,   ~V19,     ~V20,      ~V21,  ~V22,     ~V23,     ~V24,
        1,        "Portugal",   5.18,  2.53, "48.78%", "32.4%", "34.6%", "28.6%",  24529,  20026, "18.36%",   108.8, "2.10%",    17.5, "16.08%", "-32.69%", "30.56%",  38878,  34563, "11.10%",   "7.26%", 0.091, "13.13%",  "5.23%",
        2,   "United States", 159.19, 74.43, "46.76%", "43.5%", "19.4%", "25.9%",  60154,  48795, "18.88%", 6049.11, "3.80%", 1488.64, "24.61%", "-22.15%", "24.24%",  98265,  86608, "11.86%",   "7.02%", 0.203, "18.81%",  "0.07%",
        3,          "Latvia",   0.99,   0.5, "50.25%", "44.4%", "18.0%", "23.1%",  22389,  18583, "17.00%",    19.7, "1.99%",     4.9, "24.87%", "-25.38%", "16.67%",  40485,  36072, "10.90%",   "6.10%", 0.191, "17.28%", "-0.28%",
        4,         "Finland",   2.68,  1.29, "48.14%", "33.8%", "41.5%", "62.5%",  42127,  34680, "17.68%",   162.3, "6.04%",    35.6, "21.93%", "-26.20%", "20.00%",  54303,  46972, "13.50%",   "4.18%", 0.056, "19.59%", "-1.91%",
        5,          "France",  29.56, 14.22, "48.13%", "31.5%", "25.9%", "50.0%",  42992,  36199, "15.80%",  1003.8, "3.40%",   181.6, "18.09%", "-30.03%", "25.37%",  59254,  52262, "11.80%",   "4.00%", 0.102, "12.36%",  "3.44%",
        6,          "Sweden",   5.28,  2.51, "47.62%", "39.4%", "43.5%", "52.2%",  42816,  36822, "14.00%",   310.8, "5.89%",    64.7, "20.82%", "-26.80%", "22.48%",  55656,  49757, "10.60%",   "3.40%", 0.048, "14.86%", "-0.86%",
        7,  "United Kingdom",  33.23, 15.51, "46.69%", "35.5%", "29.6%", "22.5%",  42835,  34717, "18.95%",  1608.2, "4.84%",   260.6, "16.20%", "-30.48%", "31.03%",  59136,  49201, "16.80%",   "2.15%", 0.131, "19.37%", "-0.41%",
        8,         "Estonia",   0.69,  0.34, "48.54%", "30.6%", "23.7%", "46.2%",  23621,  17267, "26.90%",    34.1, "4.93%",     6.4, "18.77%", "-29.77%", "21.26%",  36260,  27014, "25.50%",   "1.40%", 0.131, "27.75%", "-0.85%",
        9,           "Spain",  22.82, 10.61, "46.48%", "31.5%", "40.1%", "30.6%",  37333,  31770, "14.90%",   557.6, "2.44%",    85.8, "15.39%", "-31.10%", "25.93%",  48554,  41902, "13.70%",   "1.20%", 0.081, "14.85%",  "0.05%",
        10,          "Cyprus",    0.4,  0.19, "48.61%", "22.5%", "19.4%",  "9.1%",  35475,  30508, "14.00%",     7.9, "1.99%",     1.6, "20.25%", "-28.36%", "28.57%",  40445,  34985, "13.50%",   "0.50%", 0.116, "16.80%", "-2.80%",
        11,         "Iceland",    0.2,  0.09, "46.87%", "38.3%", "41.2%", "44.4%",  55984,  48305, "13.72%",     7.7, "3.92%",     1.7, "22.08%", "-24.79%", "27.54%",  55984,  47866, "14.50%",  "-0.78%", 0.051, "16.01%", "-2.29%",
        12,          "Turkey",  30.52,  9.63, "31.55%", "13.0%", "15.3%",  "3.8%",  22995,  21413,  "6.88%",   245.2, "0.80%",    24.3,  "9.91%", "-21.64%", "37.11%",  50335,  46098,  "8.42%",  "-1.54%", 0.328,  "3.10%",  "3.78%",
        13,     "New Zealand",    2.6,  1.23, "47.39%", "40.1%", "31.5%", "33.3%",  39397,  36277,  "7.92%",   96.13, "3.70%",   17.24, "17.93%", "-29.46%", "27.01%",  50155,  45220,  "9.84%",  "-1.92%", 0.158,  "7.01%",  "0.91%",
        14,     "Netherlands",   8.97,  4.16, "46.42%", "25.9%", "37.5%", "46.8%",  52833,  44327, "16.10%",   422.2, "4.71%",    65.7, "15.56%", "-30.85%", "18.70%",  69910,  57047, "18.40%",  "-2.30%", 0.044, "17.84%", "-1.74%",
        15,          "Canada",  19.44,   9.2, "47.32%", "35.5%", "25.9%", "30.6%",  48403,  39387, "18.63%",   900.3, "4.63%",     224, "24.88%", "-22.44%", "24.81%",  67282,  53128, "21.04%",  "-2.41%", 0.098, "18.98%", "-0.35%",
        16,         "Croatia",   1.76,  0.81, "46.04%", "23.1%", "15.3%", "20.0%",  23848,  21367, "10.40%",    52.3, "2.98%",     6.9, "13.19%", "-32.84%", "26.47%",  34368,  29900, "13.00%",  "-2.60%", 0.141,  "5.70%",  "4.70%",
        17,         "Ireland",   2.19,  0.99, "45.09%", "34.2%", "22.5%", "28.6%",  51681,  44355, "14.17%",    78.1, "3.56%",    14.8, "18.95%", "-26.14%", "24.81%",  73226,  60558, "17.30%",  "-3.13%", 0.127, "13.37%",  "0.80%",
        18,         "Austria",   4.49,   2.1, "46.82%", "29.6%", "30.6%", "30.6%",  48295,  38939, "19.37%",   178.6, "3.98%",    30.7, "17.19%", "-29.63%", "20.63%",  66501,  51405, "22.70%",  "-3.33%", 0.078, "21.59%", "-2.22%",
        19,        "Bulgaria",   3.31,  1.55, "46.91%", "36.7%", "20.6%", "35.1%",  14513,  12278, "15.40%",    80.9, "2.44%",    24.5, "30.28%", "-16.63%", "28.57%",  33122,  26762, "19.20%",  "-3.80%", 0.223, "13.00%",  "2.40%",
        20,     "South Korea",  27.25, 11.53, "42.31%", "10.7%", "17.4%",  "5.7%",  32399,  20354, "37.18%", 1008.15, "3.70%",  161.41, "16.01%", "-26.30%", "21.26%",  41246,  22199, "41.17%",  "-3.99%", 0.067, "39.61%", "-2.43%",
        21,          "Mexico",  53.68,  20.5, "38.20%", "35.9%", "42.5%", "17.4%",  15311,  12759, "16.67%",  461.29, "0.86%",   65.61, "14.22%", "-23.97%", "29.08%",  19492,  15456, "20.70%",  "-4.04%", 0.345, "11.63%",  "5.04%",
        22,          "Norway",   2.77,   1.3, "47.03%", "35.9%", "39.8%", "47.1%",  53643,  47736, "11.01%",   113.1, "4.09%",      22, "19.45%", "-27.58%", "19.35%",  69095,  58454, "15.40%",  "-4.39%", 0.053, "12.08%", "-1.07%",
        23,     "Switzerland",   4.84,  2.26, "46.60%", "35.1%", "32.0%", "42.9%",  60124,  49482, "17.70%",   216.3, "4.47%",    31.6, "14.61%", "-31.99%", "21.88%",  75971,  59029, "22.30%",  "-4.60%",  0.04, "18.93%", "-1.23%",
        24,           "Chile",   8.68,  3.56, "41.04%", "25.4%", "16.0%", "34.6%",  28434,  22448, "21.05%",  321.09, "3.70%",   49.86, "15.53%", "-25.51%", "15.97%",  36198,  26732, "26.15%",  "-5.10%", 0.322, "16.00%",  "5.05%",
        25,          "Israel",   3.93,  1.86, "47.30%", "32.9%", "26.5%", "18.0%",  34023,  26596, "21.83%",  236.27, "6.02%",   25.99, "11.00%", "-36.30%", "24.81%",  43313,  31568, "27.12%",  "-5.29%", 0.103, "20.70%",  "1.13%",
        26,         "Belgium",   4.98,  2.29, "46.11%", "32.4%", "39.4%", "23.1%",  49587,  46364,  "6.50%",   193.8, "3.89%",    27.3, "14.09%", "-32.02%", "18.03%",  61564,  54299, "11.80%",  "-5.30%", 0.073,  "8.62%", "-2.12%",
        27,         "Germany",  43.04, 19.95, "46.35%", "29.1%", "36.3%", "33.3%",  46389,  37638, "18.87%",  1541.1, "3.58%",   255.5, "16.58%", "-29.77%", "21.26%",  59056,  44292, "25.00%",  "-6.13%", 0.066, "19.44%", "-0.57%",
        28,           "Japan",  66.73, 28.92, "43.34%", "11.5%",  "9.9%", "22.5%",  39113,  29049, "25.73%", 3136.35, "4.70%",  404.87, "12.91%", "-30.43%", "15.25%",  49793,  33878, "31.96%",  "-6.23%", 0.116, "28.68%", "-2.95%",
        29,         "Denmark",   3.03,  1.43, "47.30%", "27.0%", "37.5%", "26.5%",  52580,  47076, "10.47%",   119.4, "3.94%",    23.9, "20.02%", "-27.28%", "28.57%",  70961,  58685, "17.30%",  "-6.83%", 0.041, "12.40%", "-1.93%",
        30,       "Australia",  12.67,  5.88, "46.45%", "36.3%", "26.5%", "17.4%",  52063,  45295, "13.00%",  482.62, "3.81%",  135.13, "28.00%", "-18.45%", "23.66%",  63834,  51068, "20.00%",  "-7.00%",  0.12, "14.04%", "-1.04%",
        31,           "Malta",   0.21,  0.08, "39.17%", "27.0%", "13.0%",  "7.4%",  34176,  30553, "10.60%",     7.1, "3.35%",     0.8, "11.27%", "-27.91%", "20.00%",  46289,  37680, "18.60%",  "-8.00%", 0.217,  "7.20%",  "3.40%",
        32,        "Slovenia",   0.99,  0.46, "46.62%", "37.5%", "36.7%", "43.8%",  34965,  32133,  "8.10%",    32.1, "3.23%",     5.6, "17.45%", "-29.18%", "21.88%",  51638,  43273, "16.20%",  "-8.10%", 0.053,  "0.95%",  "7.15%",
        33,         "Hungary",   4.59,   2.1, "45.71%", "40.5%",  "9.9%",  "0.0%",  21711,  19157, "11.76%",   158.1, "3.45%",    20.7, "13.09%", "-32.61%", "18.03%",  35772,  27902, "22.00%", "-10.24%", 0.252, "11.99%", "-0.23%",
        34,           "Italy",  25.77, 10.92, "42.37%", "26.5%", "31.0%", "43.8%",  35397,  33450,  "5.50%",   584.8, "2.27%",    83.1, "14.21%", "-28.16%", "33.33%",  44758,  36970, "17.40%", "-11.90%", 0.085,  "7.62%", "-2.12%",
        35,  "Czech Republic",   5.35,  2.37, "44.35%", "29.6%", "20.0%", "18.7%",  23722,  19102, "19.48%",   180.9, "3.38%",    20.2, "11.17%", "-33.18%", "23.08%",  42346,  28584, "32.50%", "-13.02%", 0.129, "18.70%",  "0.78%",
        36,         "Romania",   9.16,  3.93, "42.87%", "31.5%", "13.8%", "14.5%",  15154,  14275,  "5.80%",   167.7, "1.83%",    44.1, "26.30%", "-16.57%", "31.51%",  29223,  23641, "19.10%", "-13.30%", 0.339,  "8.80%", "-3.00%",
        37,      "Luxembourg",   0.28,  0.13, "45.32%", "17.4%", "28.6%", "26.5%",  62636,  59191,  "5.50%",    10.8, "3.88%",     1.5, "13.89%", "-31.43%", "28.57%",  72756,  58932, "19.00%", "-13.50%", 0.075,  "6.65%", "-1.15%",
        38, "Slovak Republic",   2.76,  1.25, "45.24%", "31.5%", "20.0%",  "0.0%",  23508,  20363, "13.38%",    73.2, "2.65%",     6.8,  "9.29%", "-35.95%", "24.81%",  29927,  21637, "27.70%", "-14.32%", 0.179, "14.85%", "-1.47%",
        39,          "Greece",    4.8,  2.15, "44.70%", "25.9%", "20.0%",  "9.9%",  25124,  22455, "10.62%",    51.2, "1.07%",     6.5, "12.70%", "-32.01%", "30.07%",  31551,  23537, "25.40%", "-14.78%", 0.119, "13.59%", "-2.96%",
        40,       "Lithuania",   1.48,  0.76, "51.17%", "39.8%", "23.7%", "21.3%",  22949,  19690, "14.20%",    34.1, "2.31%",     8.5, "24.93%", "-26.24%", "17.36%",  38138,  26888, "29.50%", "-15.30%", 0.121, "12.62%",  "1.58%",
        41,          "Poland",  17.26,  7.75, "44.88%", "40.1%", "27.5%", "28.1%",  25921,  23925,  "7.70%",   431.8, "2.50%",    62.6, "14.50%", "-30.38%", "25.93%",  44633,  33251, "25.50%", "-17.80%", 0.137,  "5.85%",  "1.85%"
)

# Rename columns 

tech_jobs  %<>% rename(
        ID = V1, 
        country = V2, 
        wf_total = V3, 
        wf_women = V4, 
        wf_perc_women = V5, 
        wf_perc_women_manage = V6, 
        wf_perc_women_parl = V7, 
        wf_perc_women_minis = V8, 
        wf_avg_wage = V9, 
        wf_avg_women_wage = V10, 
        wf_paygap = V11, 
        tech_total = V12, 
        tech_perc = V13, 
        tech_women = V14, 
        tech_perc_women = V15, 
        tech_perc_gap = V16, 
        stem_perc_women_grad = V17, 
        tech_avg_wage = V18, 
        tech_ave_women_wage = V19, 
        tech_paygap = V20, 
        diff_wage_gap = V21, 
        inequality_index = V22, 
        paygap_2010 = V23,
        change_paygap = V24)

# Remove all % signs, convert to numeric 

tech_jobs  %<>% mutate_all(funs(gsub("\\%", "", .))) %>% 
        mutate_at(vars(wf_total:change_paygap), funs(as.numeric)) 

write.csv(tech_jobs, file = 'data/tech_jobs.csv')




        












